{
    "Resources": {
        "ClientVM": {
            "Type" : "AWS::EC2::Instance",
            "Properties" : {
                "BlockDeviceMappings" : [{
                    "DeviceName" : "/dev/sda1",
                    "Ebs" : {
                        "DeleteOnTermination" : "true",
                        "Encrypted" : "false",
                        "VolumeSize" : 8,
                        "VolumeType" : "gp2"
                    }
                  }
                ],
                "ImageId" : "ami-0a695f0d95cefc163",
                "IamInstanceProfile": "reads3fromec2",
                "InstanceInitiatedShutdownBehavior" : "terminate",
                "InstanceType" : "c4.2xlarge",
                "KeyName" : "haseeb",
                "NetworkInterfaces" : [{
                    "DeleteOnTermination" : "true",
                    "DeviceIndex" : "0",
                    "GroupSet" : ["sg-0d90b034bcb02ff4a"],
                    "PrivateIpAddress" : "172.31.10.100",
                    "SubnetId" : "subnet-0f31b2c05b0d744ec"
                }],
                "UserData" : {
                    "Fn::Base64": {
                        "Fn::Join": ["", [
                            "#!/bin/bash -xe\n",
                            "cd home/ubuntu\n",
                            "sudo apt install unzip\n",
                            "curl \"https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\" -o \"awscliv2.zip\"\n",
                            "unzip awscliv2.zip\n",
                            "sudo ./aws/install\n",
                            "aws s3 cp s3://ttcsimage/ttcs-agent_1.0.21_amd64.deb ./test.deb\n"
                        ]]
                    }
                }
            }
        }
    }
}